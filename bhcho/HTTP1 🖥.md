#  인터넷 네트워크🌐
----
+ 인터넷 통신
+ IP(Internet Protocol)
+ TCP,UDP
+ PORT
+ DNS
---
## 인터넷 통신📭
인터넷에서 두 컴퓨터가 메세지를 전달 받을 때 어떻게 전달받을까? 예를 들어 내가 미국에 있는 친구에게 메세지를 보내야 한다고 생각해보자. 이 때 우리는 복잡한 인터넷 망을 이용하여 메세지를 주고 받게 되는데, 인터넷은 나와 친구 둘이서 사용하는 것이 아니라, 전 세계에 있는 사람들이 공용으로 사용한다. 
그러면 우리는 친구에게 메세지를 보낼 때 어떻게 하면 친구의 PC를 특정할 수 있을까? 이 때 필요한게 바로 IP이다.
## IP(Internet Protocol) 🔍
복잡한 인터넷 망에서 내가 다른 지역에 있는 친구에게 컴퓨터로 메세지를 전달하려고 하면 특정한 규칙이 필요하다. 이 때 이 규칙을 만들기 위해서 필요한 것이 IP이다. IP 주소는 우리가 메세지를 보낼 때 지정한 IP주소를 따라서 Packet(패킷)이라는 통신 단위 데이터를 전달한다.
우리가 데이터를 보낼 때는 IP 패킷이라는 규칙이 존재한다. IP 패킷은 내가 데이터를 전송할 때 나의 IP 그리고 데이터를 받는 PC의 IP가 필요하다.  이를 인터넷망에 던져서 서로의 노드끼리 전달하여 결과적으로 내가 원하는 도착IP에 도달하게 되는 것이다.

이렇게만 보면 IP 프로토콜이 다 할 수 있는 것 같지만 한계점이 존재한다. 
#### IP프로토콜의 한계
---
+ **비연결성**
  + 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
 
+ **비신뢰성**
 + 중간에 패킷이 사라졌을 때 해결할 방법이 없음
 + 패킷이 순서대로 오지 않을 가능성이 존재 ex) : 난 hello world를 보냈지만, 상대는 world hello

+ **프로그램 구분**
 + 같은 IP를 사용하는 서버에 통신하는 애플리케이션이 둘 이상일 가능성 존재
---
이를 해결하기 위해 사용하는 것이 TCP이다.

## TCP 🤝
TCP를 먼저알아보기 전에 인터넷 프로토콜 스택의 4계층에 대해서 알아보자

#### 인터넷 프로토콜 스택의 4계층
---
###### 애플리케이션 계층
__HTTP__,__FTP__ (웹브라우저, 네트워크 게임, 채팅 프로그램 등)
###### 전송 계층
__TCP__,__UDP__ 
###### 인터넷 계층
__IP__
###### 네트워크 인터페이스 계층
__LAN 드라이버, 장비__

---

이 계층으로 우리가 메세지를 어떻게 보내는지 생각해본다면, 

__1. 프로그램이 메세지 생성__
__2. SOCKET 라이브러리를 통해 전달__
__3.TCP 정보 생성__
__4. IP 패킷 생성, TCP 데이터 포함__
__5. 이더넷 프레임 생성 및 인터넷 전송__

이런 식으로 메세지를 보내게 된다.

자 이제 TCP 패킷에 대해서 알아보자
TCP 패킷에는 __출발지 PORT, 목적지 PORT, 전송제어, 순서, 검증 정보__ 등이 들어있다. 이를 통해 IP패킷만으로는 적용할 수 없었던 순서나 다른 여러 문제들이 해결된다. 여기서 출발지 PORT와 목적지 PORT가 출발지IP와 목적지IP랑 다른게 뭔지 궁금할 수 있는데, 이것은 PORT를 설명하면서 같이 설명하겠다.
TCP란 전송 제어 프로토콜(Transmission Control Protocol)로 크게 3가지의 특징이 있다

+ 연결지향 - __TCP 3 way handshake__ : 상대와 연결이 된 후에 메세지를 전송한다.

+ 데이터 전달 보증 : 내가 메세지를 보냈는데 패킷이 누락되면 내가 알 수가 있다. 즉 서로 데이터를 전달하면 데이터를 잘 받았다고 보내준다.

+ 순서 보장 : 내가 메세지를 보낸 순서대로 정보가 전달된다. 만약 패킷1,2,3의 순서로 전송하였는데 패킷1,3,2로 왔다면 패킷을 순서가 오류난 번호부터 다시 보내달라고 요청한다. 

+ 신뢰할 수 있는 프로토콜
+ 현재는 대부분 TCP 사용

__TCP 3 way handshake__  : 처음에 서버와 클라이언트를 연결할 때 연결이 잘 되었는지 확인하는 SYN(접속요청)을 함께 보낸다. 그리고 이를 받은 서버는 이 SYN을 클라이언트에 다시 보내면서 접속을 허락했다는 ACK(요청수락)을 같이 보낸다. 마지막으로 이를 받은 클라이언트는 ACK를 다시 보내면서 3번 연결을 한다는 뜻으로 __TCP 3 way handshake__ 라고 불린다.

## UDP 🚀
UDP는 사용자 데이터 프로토콜(User Datagram Protocol)이다. 특징으로는

---
+ 하얀 도화지에 비유 가능(기능이 거의 없음)
+ 연결지향 - TCP 3 way handshake X
+ 데이터 전달 보증 X
+ 순서 보장 X
+ 데이터 전달 및 순서가 보장되지 않지만, 단순하고 빠름
+ 정리
 + IP와 거의 같다. PORT와 체크섬 정도만 추가
 + 애플리케이션에서 추가 작업 필요
---

이렇게만 보면 UDP를 왜쓰는지 의문이 들 수 있는데, TCP의 경우는 여러 좋은 기능들이 있지만, 그만큼 전송속도도 느려지고, TCP 3 way handshake를 하면서 전송시간이 길어진다. 그래서 내가 최적화를 할 때 UDP를 사용하여 최적화를 한다고 생각하면 된다.

## PORT 🔌
PORT는 항구라는 뜻으로, 여러 서버에 통신을 할 때 필요로한다.
PORT는 TCP에서 사용하며 출발지 PORT, 목적지 PORT를 가지고 있는데, 이는  목적지 서버를 찾는 IP와는 달리 그 서버 안에 애플리케이션의 종류를 구분하는 것을 PORT라고 생각하면 된다.
PORT는 0~65535까지 할당이 가능하며, 0~1023까지는 잘 알려진 포트라고 해서 사용하지 않는 것이 좋다.
대표적으로 HTTP는 80을 사용하고, HTTPS는 443을 사용한다.

## DNS 🔍
DNS는 도메인 네임 시스템(Domain Name System)으로 IP를 기억하기 어렵고, 변경될 수 있기 때문에 만들어졌다. DNS라고 해서 어렵게 생각하지 말고 우리가 매일 인터넷을 사용할 때 쓰는 구글(www.google.com)이것이 도메인이다. 이렇게 도메인 명을 입력하면 DNS서버에서 IP를 응답해주어서 접속하는 시스템이다.