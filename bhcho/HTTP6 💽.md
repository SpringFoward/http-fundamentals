## HTTP 상태코드📝
---
+ HTTP 상태코드 소개
+ 2xx - 성공
+ 3xx - 리다이렉션
+ 4xx - 클라이언트 오류, 5xx - 서버 오류
---
### HTTP 상태코드 소개🔎

#### 상태코드
**클라이언트가 보낸 요청의 처리상태를 응답에서 알려주는 기능

+ 1xx :요청이 수신되어 처리중 (거의 사용되지 않음)
+ 2xx : 요청 정상 처리됨 (200OK)
+ 3xx : 요청을 완료하려면 추가 행동 필요 (리다이렉션)
+ 4xx : 클라이언트 오류, 잘못된 문법으로 서버가 요청 수행 불가 (요청을 보낸사람잘못)
+ 5xx : 서버 오류, 서버가 정상요청을 처리하지 못함 (서버 잘못)

#### 만약 모르는 상태 코드가 나타나면?
그냥 위에 보이는 100대 200대 300대 400대 500대를 알고 있으니까 대충 저 상태라고 생각하고 처리하면 된다.

---
### 2XX - 성공📨
**클라이언트의 요청을 성공적으로 처리함

+ 200 OK : 요청이 접수됨 GET
+ 201 Created :성공적으로 생성함 POST
+ 202 Accepted  : 요청이 접수는 되었으나 처리가 완료되지 않음 (요청이 접수된 후 1시간 뒤에 저장같은 처리)
+ 204 No Content : 서버가 요청을 성공적으로 수행했지만, 응답 본문에 보낼 데이터가 없음 (웹 문서 편집기의 save 버튼의 경우 저장해도 클라이언트에 보낼 내용이 없음)

이 외에도 많은 200대 상태코드가 있는데 사실 많이사용하지 않음

---
### 3xx - 리다이렉션📎
**요청을 완료하기 위해 유저 에이전트(웹브라우저)의 추가 조치 필요

웹 브라우저는 3xx 응답의 결과에 Location 헤더가 있으면, Location 위치로 자동 이동한다.

+ 300 Multiple Choices(거의 안씀)
+ 301 Moved Permanently
+ 302 Found
+ 303 See Other
+ 304 Not Modified
+ 307 Temporary Redirect
+ 308 Permanent Redirect

#### 리다이렉션 이해

![[스크린샷 2024-05-09 121205.png]](https://github.com/SpringFoward/http-fundamentals/blob/0a6929c97102550fe9395a0a412fb6206d6a36cb/bhcho/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%20%EB%B3%B4%EA%B4%80/2%EC%A3%BC%EC%B0%A8/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-05-09%20121205.png)

이런식으로 리다이렉션이 일어난다.

#### 리다이렉션의 종류
+ 영구 리다이렉션 : URI가 영구적으로 이동
+ 일시 리다이렉션 : 일시적인 변경이 일어남 (주문완료하고 주문내역으로 이동)
+ 특수 리다이렉션 : 결과 대신 캐시를 사용함

##### 영구 리다이렉션
**301,308

+ 301 Moved Permanently : 리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음
+ 308 Permanent Redirect : 301과 기능은 같으나 리다이렉트시 요청 메서드와 본문을 유지한다.(처음 POST를 보내면 리다이렉트 POST유지)
+ 308 Permanent Redirect : 301과 기능은 같으나 리다이렉트시 요청 메서드와 본문을 유지한다.(처음 POST를 보내면 리다이렉트 POST유지)

![[스크린샷 2024-05-09 192435.png]](https://github.com/SpringFoward/http-fundamentals/blob/0a6929c97102550fe9395a0a412fb6206d6a36cb/bhcho/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%20%EB%B3%B4%EA%B4%80/2%EC%A3%BC%EC%B0%A8/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-05-09%20192435.png)

#### 일시적인 리다이렉션
**302,307,303

+ 리소스의 URI가 일시적으로 변경됨
+ 검색엔진 등에서 URL을 변경하면 안됨
+ 302 Found
 + 리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음 301과 비슷한 메커니즘
+ 307 Temporary
  + 302와 기능은 같으나 리타이렉트시 요청 메서드와 본문을 무조건 유지해야함
+ 303 See Other
 + 302와 기능은 같으나 리다이렉트시 요청 메서드가 GET으로 변경됨
+ **PRG(Post/Redirect/Get)
 + 일시적인 리다이렉션
 + 예를 들어 POST로 주문한 후에 웹 브라우저를 새로고침하면 중복 주문이 될 수 있는데, 이것을 막는 일시적인 리다이렉션이다.

 ![[스크린샷 2024-05-09 193127.png]](https://github.com/SpringFoward/http-fundamentals/blob/0a6929c97102550fe9395a0a412fb6206d6a36cb/bhcho/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%20%EB%B3%B4%EA%B4%80/2%EC%A3%BC%EC%B0%A8/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-05-09%20193127.png)

#### 기타 리다이렉션
**300 304

+ 300 Multiple Choices : 안쓴다.
+ 304 Not Modified 
 + 캐시를 목적으로 사용
 + 클라이언트에게 리소스가 수정되지 않았음을 알려준다.
 + 304응답은 로컬 캐시를 사용하기 때문에 메세지 바디를 포함하지 않는다.

---
## 4xx - 클라이언트 오류, 5xx - 서버 오류🧱

#### 400 Bad Request
**클라이언트가 잘못된 요청을 하여 서버가 요청 처리 불가

+ 요청, 메세지 오류
+ 클라이언트는 요청을 다시 검토해야함

#### 401 Unauthorized
**클라이언트가 해당 리소스에 대한 인증이 필요함

+ 인증(Authentication)이 되지 않음
+ 401오류 발생 시 응답에 인증 방법을 설명


#### 403 Forbidden
**서버가 요청을 이해했지만, 승인을 거부함

+ 주로 자격 증명은 있지만, 접근 권한이 불충분한 경우
+ 멤버가 어드민권한만이 이용할 수 잇는 리소스에 접근하는 경우

#### 404 Not Found
**요청 리소스를 찾을 수 없음

+ 요청 리소스가 서버에 없음
+ 클라이언트가 권한이 부족한 리소스에 접근할 때 그 리소스를 숨기고 싶을 때 사용

#### 5xx (Server Error)
**서버 오류

+ 서버 문제로 오류가 발생함
+ 서버에 문제가 있기 때문에 재시도 하면 성공할 수 도 있음
+ 애매하면 500으로 전부 퉁침

#### 503 Service Unavailable
**서비스 이용 불가

+ 서버가 일시적인 과부하 또는 예정된 작업으로 요청을 잠시 처리할 수 없음
+ Retry-After 헤더 필드로 얼마뒤에 복구 되는지 알려줄 수 있음
---
